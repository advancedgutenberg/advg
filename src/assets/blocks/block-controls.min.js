!function(n){var a={};function r(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.m=n,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}({"./node_modules/classnames/index.js":function(e,t,n){var a;!function(){"use strict";var l={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a,r=typeof n;if("string"==r||"number"==r)e.push(n);else if(Array.isArray(n))!n.length||(a=s.apply(null,n))&&e.push(a);else if("object"==r)if(n.toString===Object.prototype.toString||n.toString.toString().includes("[native code]"))for(var o in n)l.call(n,o)&&n[o]&&e.push(o);else e.push(n.toString())}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(a=function(){return s}.apply(t,[]))||(e.exports=a)}()},"./node_modules/hour-convert/index.js":function(e,t,n){"use strict";e.exports={to12Hour:function(e){var t=e<12?"am":"pm";return{hour:(e+11)%12+1,meridiem:t,meridian:t}},to24Hour:function(e){return("am"===(e.meridiem||e.meridian)?0:12)+e.hour%12}}},"./src/assets/blocks/0-adv-components/datetime.jsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e};function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var l,s=e[Symbol.iterator]();!(a=(l=s.next()).done)&&(n.push(l.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.AdvDateTimeControl=function(e){function t(){o(function(e){return!e})}var n=p(!1),a=i(n,2),r=a[0],o=a[1],l=e.buttonLabel,s=e.dateLabel,n=e.date,a=e.onChangeDate,c=e.onDateClear,e=e.onInvalidDate;return React.createElement(v,null,React.createElement("div",{className:"advgb-advcalendar-control"},React.createElement("label",null,s),React.createElement("div",null,React.createElement(d,{isLink:!0,icon:"calendar",onClick:function(){return o(t)}},React.createElement(h,{text:f("Change date","advanced-gutenberg")},React.createElement("span",null,n?moment(n).format("MMMM DD YYYY, h:mm a"):l))),n&&React.createElement(d,{icon:"no-alt",className:"advgb-advcalendar-remove-icon",onClick:function(){return c()}}))),r&&React.createElement(m,{className:"advgb-advcalendar-popover",onClose:o.bind(null,!1)},React.createElement("label",{className:"advgb-advcalendar-popover-label"},s,React.createElement(d,{icon:"no-alt",className:"advgb-advcalendar-remove-icon",onClick:function(){return o(t)}})),React.createElement("div",{className:"advgb-advcalendar-popover-timezone"},void 0!==advgbBlocks.timezone&&advgbBlocks.timezone.length?advgbBlocks.timezone.replace(/_/g," ")+" "+f("time","advanced-gutenberg"):f("WordPress settings timezone","advanced-gutenberg")),React.createElement(g,{currentDate:n,onChange:a,is12Hour:!0,isInvalidDate:e})))},t.AdvDaysControl=function(e){var t=[{slug:"su",label:f("S","advanced-gutenberg")},{slug:"m",label:f("M","advanced-gutenberg")},{slug:"tu",label:f("T","advanced-gutenberg")},{slug:"w",label:f("W","advanced-gutenberg")},{slug:"th",label:f("T","advanced-gutenberg")},{slug:"f",label:f("F","advanced-gutenberg")},{slug:"sa",label:f("S","advanced-gutenberg")}],e=e.label;return React.createElement(v,null,React.createElement("div",{className:"advgb-checkbox-wrapper"},React.createElement("label",null,e),React.createElement("div",{className:"advgb-checkbox-inline"},t.map(function(e,t){return React.createElement(b,{key:t,label:e.label,checked:!0})}))))},t.AdvTimeControl=function(e){var t=e.label,n=e.currentTime,a=e.onChangeTime,e=e.onTimeClear;return React.createElement(_,{label:t,currentTime:n,onChangeTime:a,onTimeClear:e})};var o,l=n("./node_modules/hour-convert/index.js"),s=(o=l)&&o.__esModule?o:{default:o};var c=wp.components,u=c.ButtonGroup,d=c.Button,g=c.DateTimePicker,b=(c.TextControl,c.CheckboxControl),m=c.Popover,h=c.Tooltip,n=wp.element,c=n.Component,v=n.Fragment,p=n.useState,f=wp.i18n.__;var _=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(k,c),a(k,[{key:"componentWillMount",value:function(){var e=this.state,t=e.onChangeTime,n=e.currentTime,e=e.onInit;this.props.onChangeTime!==t&&this.setState({onChangeTime:this.props.onChangeTime}),this.props.currentTime!==n&&this.setState({currentTime:this.props.currentTime}),n&&n.includes(":")&&e&&this.setState({hours:n.split(":")[0],minutes:n.split(":")[1],meridian:11<parseInt(n.split(":")[0])?"pm":"am",onInit:!1})}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,a=(n.onChangeTime,n.currentTime,this.state),r=a.hours,o=a.minutes,l=a.meridian,n=t.hours,a=t.minutes,t=t.meridian;r===n&&o===a&&l===t||(r||o)&&(r&&!o&&this.setState({minutes:"00"}),o&&!r&&this.setState({hours:"01"}),o=this.appendZero(s.default.to24Hour({hour:parseInt(r),meridiem:l}))+":"+o+":00",this.props.onChangeTime(o))}},{key:"appendZero",value:function(e){if(!isNaN(e)){e=parseInt(e);return 9<e?e:"0"+e}}},{key:"render",value:function(){var n=this,e=this.state,t=(e.onChangeTime,e.currentTime,e.hours),a=e.minutes,e=e.meridian;return React.createElement(v,null,React.createElement("div",{className:"advgb-advtime-control"},React.createElement("label",null,this.props.label),React.createElement("div",{className:"advgb-advtime-hours-minutes"},React.createElement("input",{type:"text",value:t?this.appendZero(s.default.to12Hour(parseInt(t)).hour):"",onChange:function(e){e=Math.max(1,Math.min(12,Number(e.target.value)));n.setState({hours:n.appendZero(e)})},onKeyDown:function(e){var t=Number(e.target.value);"ArrowUp"===e.key&&t<12?n.setState({hours:n.appendZero(t+1)}):"ArrowDown"===e.key&&1<t&&n.setState({hours:n.appendZero(t-1)})},placeholder:"--"}),React.createElement("span",null,":"),React.createElement("input",{type:"text",value:a||"",onChange:function(e){e=Math.max(0,Math.min(59,Number(e.target.value)));n.setState({minutes:n.appendZero(e)})},onKeyDown:function(e){var t=Number(e.target.value);"ArrowUp"===e.key&&t<59?n.setState({minutes:n.appendZero(t+1)}):"ArrowDown"===e.key&&0<t&&n.setState({minutes:n.appendZero(t-1)})},placeholder:"--"})),React.createElement(u,{className:"advgb-advtime-meridian"},React.createElement(d,{variant:null===e||"am"===e?"primary":"secondary",onClick:function(){n.setState({meridian:"am"})}},f("AM","advanced-gutenberg")),React.createElement(d,{variant:"pm"===e?"primary":"secondary",onClick:function(){n.setState({meridian:"pm"})}},f("PM","advanced-gutenberg"))),t&&a&&React.createElement(d,{className:"advgb-advtime-remove-icon",icon:"no-alt",onClick:function(){n.props.onTimeClear(),n.setState({hours:null,minutes:null,meridian:"am"})}})))}}]),k);function k(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,k);e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,e));return e.state={onChangeTime:null,currentTime:e.props.currentTime||null,hours:null,minutes:null,meridian:"am",onInit:!0},e}t.default=_},"./src/assets/blocks/0-adv-components/utils.jsx":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getOptionSuggestions=function(e){return e.map(function(e){return e.title})},t.getOptionTitles=function(e,n){var t=[];return t=null!==n?e.map(function(t){var e=n.find(function(e){return e.slug===t});return void 0!==e&&e?e.title:t}):t},t.getOptionSlugs=function(e,n){var a=[];return e.map(function(t){var e=n.find(function(e){return e.title===t});void 0!==e&&a.push(e.slug)}),a}},"./src/assets/blocks/block-controls/block-controls.jsx":function(e,t,n){"use strict";var w=function(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e};function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var r,E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,a=arguments[t];for(n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=n("./node_modules/classnames/index.js"),T=(r=o)&&r.__esModule?r:{default:r},R=n("./src/assets/blocks/0-adv-components/datetime.jsx"),S=n("./src/assets/blocks/0-adv-components/utils.jsx");function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}!function(e,t,n,a,r,o,l){a=wp.blockEditor||wp.editor;var s,c,i,u,d,g,t=t.addFilter,b=e.sprintf,m=e.__,h=n.hasBlockSupport,v=a.InspectorControls,p=(a.BlockControls,r.DateTimePicker,r.ToggleControl),f=r.PanelBody,_=r.Notice,k=r.FormTokenField,y=r.SelectControl,o=o.createHigherOrderComponent,C=l.Component,x=l.Fragment;parseInt(advgbBlocks.block_controls)&&(s=["core/freeform","core/legacy-widget","core/widget-area","core/column","advgb/tab","advgb/column"],c=function(){return void 0!==advgb_block_controls_vars.controls&&0<Object.keys(advgb_block_controls_vars.controls).length?advgb_block_controls_vars.controls:[]},i=function(e){return void 0!==e&&e},u=function(t){var e=c(),n=0,a=[];return Object.keys(e).forEach(function(e){i(advgb_block_controls_vars.controls[e])&&a.push(e)}),a.forEach(function(e){g(t,e,"enabled")&&n++}),0<n},d=function(){var e=c(),t=0;return Object.keys(e).map(function(e){i(advgb_block_controls_vars.controls[e])&&t++}),0<t},g=function(e,t,n){if(!!(void 0===e||!e.length)||!e.some(function(e){return e.control===t}))return null;var a=e.findIndex(function(e){return e.control===t});return!(a<0)&&[].concat(B(e))[a][n]},"undefined"!=typeof advgb_block_controls_vars&&void 0!==advgb_block_controls_vars.non_supported&&0<advgb_block_controls_vars.non_supported.length&&(s=[].concat(B(s),B(advgb_block_controls_vars.non_supported)),s=[].concat(B(new Set(s)))),t("blocks.registerBlockType","advgb/blockControls",function(e){return!s.includes(e.name)&&d()&&(e.attributes=E(e.attributes,{advgbBlockControls:{type:"array",items:{type:"object"},default:[]}})),e}),t("editor.BlockEdit","advgb/addBlockControls",o(function(r){return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,C),w(n,[{key:"getTermSlugs",value:function(e){var a=this,r=(this.getTaxonomies(),[]);return e.forEach(function(t){var e=a.getTaxonomies(),n=e.findIndex(function(e){return e.slug===t});e[n].terms.forEach(function(e){r.push(e.slug)})}),r}},{key:"getTaxonomies",value:function(){return void 0!==advgb_block_controls_vars.taxonomies&&0<advgb_block_controls_vars.taxonomies.length?advgb_block_controls_vars.taxonomies:[]}},{key:"getUserRoles",value:function(){return void 0!==advgb_block_controls_vars.user_roles&&0<advgb_block_controls_vars.user_roles.length?advgb_block_controls_vars.user_roles:[]}},{key:"getPlatforms",value:function(){return void 0!==advgb_block_controls_vars.platforms&&0<advgb_block_controls_vars.platforms.length?advgb_block_controls_vars.platforms:[]}},{key:"getBrowsers",value:function(){return void 0!==advgb_block_controls_vars.browsers&&0<advgb_block_controls_vars.browsers.length?advgb_block_controls_vars.browsers:[]}},{key:"getTerms",value:function(e){var r=this,o=(this.getTaxonomies(),[]);return e.forEach(function(t){var n=r.getTaxonomies(),a=n.findIndex(function(e){return e.slug===t});n[a].terms.forEach(function(e){o.push({slug:e.slug,title:e.title+" ("+n[a].title+")"})})}),o}},{key:"getPages",value:function(){return void 0!==advgb_block_controls_vars.page&&0<advgb_block_controls_vars.page.length?advgb_block_controls_vars.page:[]}},{key:"changeControlKey",value:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",a=this.props,r=a.attributes,o=a.setAttributes,l=r.advgbBlockControls,s={control:"schedule",enabled:!0,dateFrom:null,dateTo:null,recurring:!1},c={control:"user_role",enabled:!0,roles:[],approach:"public"},i={control:"browser",enabled:!0,browsers:[],approach:"public"},u={control:"platform",enabled:!0,platforms:[],approach:"public"},d={control:"archive",enabled:!0,taxonomies:[],approach:"exclude"},g={control:"page",enabled:!0,pages:[],approach:"exclude"},b=!(void 0===l||!l.length),m=!(!b||!l.some(function(e){return e.control===t}));if(m){var h=l.findIndex(function(e){return e.control===t});if(h<0)return!1;a=[].concat(B(l)),r=a[h];a[h]="boolean"==typeof r[e]?E({},a[h],O({},e,!r[e])):E({},a[h],O({},e,n)),o({advgbBlockControls:a})}else if(b&&!m)switch(t){case"schedule":o({advgbBlockControls:[].concat(B(l),[s])});break;case"user_role":o({advgbBlockControls:[].concat(B(l),[c])});break;case"browser":o({advgbBlockControls:[].concat(B(l),[i])});break;case"platform":o({advgbBlockControls:[].concat(B(l),[u])});break;case"archive":o({advgbBlockControls:[].concat(B(l),[d])});break;case"page":o({advgbBlockControls:[].concat(B(l),[g])})}else switch(t){case"schedule":o({advgbBlockControls:[s]});break;case"user_role":o({advgbBlockControls:[c]});break;case"browser":o({advgbBlockControls:[i]});break;case"platform":o({advgbBlockControls:[u]});break;case"archive":o({advgbBlockControls:[d]});break;case"page":o({advgbBlockControls:[g]})}}},{key:"changeArchiveControl",value:function(e,t){var a=this,n=this.props,r=n.attributes,n=n.setAttributes,r=r.advgbBlockControls,o=[],l=r.findIndex(function(e){return"archive"===e.control});if(l<0)return!1;var s,c,i=[].concat(B(r));"taxonomies"===e?(t.forEach(function(t){var e=i[l].taxonomies.findIndex(function(e){return e.tax===t});-1===e?o.push({tax:t,terms:[],all:!0}):((e=i[l].taxonomies[e].terms.length?i[l].taxonomies[e].terms:[]).length,o.push({tax:t,terms:e,all:!e.length}))}),i[l]=E({},i[l],O({},"taxonomies",o)),n({advgbBlockControls:i})):"terms"===e&&(s={},c=this.currentArchiveControl("taxonomies"),t.forEach(function(t){var n=a.state.termOptions.find(function(e){return e.slug===t});void 0===s[n.tax]&&(s[n.tax]=[]);i[l].taxonomies.findIndex(function(e){return e.tax===n.tax});c.includes(n.tax)&&s[n.tax].push(t)}),Object.keys(s).forEach(function(t){var e=i[l].taxonomies.findIndex(function(e){return e.tax===t});0<=e&&(i[l].taxonomies[e]={tax:t,terms:s[t],all:!s[t].length})}),c.forEach(function(t){var e;Object.keys(s).includes(t)||0<=(e=i[l].taxonomies.findIndex(function(e){return e.tax===t}))&&(i[l].taxonomies[e]={tax:t,terms:[],all:!0})}),n({advgbBlockControls:i}))}},{key:"currentArchiveControl",value:function(e){var t=this.props,n=t.attributes,n=(t.setAttributes,n.advgbBlockControls),a=[],n=g(n,"archive","taxonomies").length?g(n,"archive","taxonomies"):[];return"taxonomies"===e?n.forEach(function(e){a.push(e.tax)}):"terms"===e&&n.forEach(function(e){e.terms.forEach(function(e){a.push(e)})}),a}},{key:"taxonomiesChanged",value:function(){var n,a=this,e=this.props.attributes.advgbBlockControls,t=g(e,"archive","terms")?g(e,"archive","terms"):[],r=g(e,"archive","taxonomies")?g(e,"archive","taxonomies"):[];t.length&&(n=[],t.forEach(function(t){var e=a.state.termOptions.findIndex(function(e){return e.slug===t});r.includes(a.state.termOptions[e].tax)&&n.push(a.state.termOptions[e].slug)}),this.changeControlKey("archive","terms",n)),this.setState({termOptions:this.state.termOptions.filter(function(e){return a.currentArchiveControl("taxonomies").includes(e.tax)})}),this.modifyTaxLabels()}},{key:"initArchiveControl",value:function(){var t=this;this.props.attributes.advgbBlockControls;wp.apiFetch({path:wp.url.addQueryArgs("advgb/v1/terms",{taxonomies:this.currentArchiveControl("taxonomies"),ids:this.currentArchiveControl("terms")})}).then(function(e){t.modifyTaxLabels(),t.setState({termOptions:e,initArchive:!1,updateTaxLabels:!1})})}},{key:"iniTaxLabels",value:function(){var t=[];return this.getTaxonomies().forEach(function(e){t.push({slug:e.slug,title:b(m("All %s terms","advanced-gutenberg"),e.title),singular:e.title})}),t}},{key:"modifyTaxLabels",value:function(){var e=this.props.attributes.advgbBlockControls,r=g(e,"archive","taxonomies").length?g(e,"archive","taxonomies"):[],o=[].concat(B(this.state.taxModOptions));o.forEach(function(t,e){var n=r.find(function(e){return t.slug===e.tax}),a=E({},o[e]);a.title=b(void 0!==n&&n.terms.length?m("Selected %s terms","advanced-gutenberg"):m("All %s terms","advanced-gutenberg"),a.singular),o[e]=a}),this.setState({taxModOptions:o,updateTaxLabels:!1})}},{key:"searchTerms",value:function(){var t=this,e=this.state,a=e.termOptions,e=e.searchTermWord;this.props.attributes.advgbBlockControls;wp.apiFetch({path:wp.url.addQueryArgs("advgb/v1/terms",{search:e,taxonomies:this.currentArchiveControl("taxonomies")})}).then(function(e){var n=[].concat(B(a),B(e)),n=Array.from(new Set(n.map(function(e){return e.slug}))).map(function(t){return n.find(function(e){return e.slug===t})});t.setState({termOptions:n})})}},{key:"isPost",value:function(){return wp.data.select("core/editor")&&wp.data.select("core/editor").getCurrentPostId()}},{key:"componentDidMount",value:function(){this.setState({taxModOptions:this.iniTaxLabels()})}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,a=n.attributes,r=n.isSelected,o=n.name,l=a.advgbBlockControls,n=e.attributes.advgbBlockControls,a=this.state,e=a.searchTermWord,a=a.initArchive,t=t.searchTermWord;!this.isPost()&&!s.includes(o)&&r&&a&&i(advgb_block_controls_vars.controls.archive)&&g(l,"archive","enabled")&&this.currentArchiveControl("taxonomies").length&&this.currentArchiveControl("terms").length&&this.initArchiveControl(),e!==t&&2<e.length&&this.searchTerms(),!this.isPost()&&i(advgb_block_controls_vars.controls.archive)&&g(l,"archive","enabled")&&(g(n,"archive","taxonomies")!==g(l,"archive","taxonomies")||this.state.updateTaxLabels)&&this.taxonomiesChanged()}},{key:"render",value:function(){var t=this,e=this.props,n=e.attributes,a=(e.setAttributes,n.advgbBlockControls);return[this.props.isSelected&&!s.includes(this.props.name)&&d()&&React.createElement(v,{key:"advgb-bc-controls"},React.createElement(f,{title:m("Block Controls","advanced-gutenberg"),icon:"visibility",initialOpen:!1,className:u(a)?"advgb-feature-icon-active":""},i(advgb_block_controls_vars.controls.schedule)&&React.createElement(x,null,React.createElement(p,{label:m("Schedule","advanced-gutenberg"),help:g(a,"schedule","enabled")?m("Choose when to start showing and/or stop showing this block.","advanced-gutenberg"):"",checked:g(a,"schedule","enabled"),onChange:function(){return t.changeControlKey("schedule","enabled")}}),g(a,"schedule","enabled")&&React.createElement(x,null,React.createElement("div",{style:{marginBottom:30}},React.createElement(R.AdvDateTimeControl,{buttonLabel:m("Now","advanced-gutenberg"),dateLabel:m("Start showing","advanced-gutenberg"),date:g(a,"schedule","dateFrom"),onChangeDate:function(e){return t.changeControlKey("schedule","dateFrom",e)},onDateClear:function(){return t.changeControlKey("schedule","dateFrom",null)},onInvalidDate:!1}),React.createElement(R.AdvDateTimeControl,{buttonLabel:m("Never","advanced-gutenberg"),dateLabel:m("Stop showing","advanced-gutenberg"),date:g(a,"schedule","dateTo")?g(a,"schedule","dateTo"):null,onChangeDate:function(e){return t.changeControlKey("schedule","dateTo",e)},onDateClear:function(){return t.changeControlKey("schedule","dateTo",null)},onInvalidDate:function(e){if(g(a,"schedule","dateFrom")){var t=new Date(e.getTime());t.setHours(0,0,0,0);e=new Date(g(a,"schedule","dateFrom"));return e.setHours(0,0,0,0),t.getTime()<e.getTime()}}}),g(a,"schedule","dateFrom")>g(a,"schedule","dateTo")&&React.createElement(_,{className:"advgb-notice-sidebar",status:"warning",isDismissible:!1},m('"Stop showing" date should be after "Start showing" date!',"advanced-gutenberg")),g(a,"schedule","dateFrom")&&g(a,"schedule","dateTo")&&React.createElement(p,{label:m("Recurring","advanced-gutenberg"),checked:g(a,"schedule","recurring"),onChange:function(){return t.changeControlKey("schedule","recurring")},help:m("If Recurring is enabled, this block will be displayed every year between the selected dates.","advanced-gutenberg")}),(g(a,"schedule","dateFrom")||g(a,"schedule","dateTo"))&&React.createElement(x,null,React.createElement(R.AdvDaysControl,{label:m("On these days","advanced-gutenberg")}),React.createElement(R.AdvTimeControl,{label:m("From","advanced-gutenberg"),currentTime:g(a,"schedule","timeFrom")?g(a,"schedule","timeFrom"):null,onChangeTime:function(e){return t.changeControlKey("schedule","timeFrom",e)},onTimeClear:function(){return t.changeControlKey("schedule","timeFrom",null)}}),React.createElement(R.AdvTimeControl,{label:m("To","advanced-gutenberg"),currentTime:g(a,"schedule","timeTo")||null,onChangeTime:function(e){return t.changeControlKey("schedule","timeTo",e)},onTimeClear:function(){return t.changeControlKey("schedule","timeTo",null)}})),React.createElement(_,{className:"advgb-notice-sidebar",status:"info",isDismissible:!1},void 0!==advgbBlocks.timezone&&advgbBlocks.timezone.length?advgbBlocks.timezone.replace(/_/g," ")+" "+m("time","advanced-gutenberg"):m("WordPress settings timezone","advanced-gutenberg"))))),i(advgb_block_controls_vars.controls.user_role)&&React.createElement(x,null,React.createElement(p,{label:m("User roles","advanced-gutenberg"),help:g(a,"user_role","enabled")?m("Choose which users can see this block.","advanced-gutenberg"):"",checked:g(a,"user_role","enabled"),onChange:function(){return t.changeControlKey("user_role","enabled")}}),g(a,"user_role","enabled")&&React.createElement(x,null,React.createElement("div",{className:"advgb-revert-mb"},React.createElement(y,{value:g(a,"user_role","approach"),options:[{value:"public",label:m("Show to everyone","advanced-gutenberg")},{value:"login",label:m("Show to logged in users","advanced-gutenberg")},{value:"logout",label:m("Show to logged out users","advanced-gutenberg")},{value:"include",label:m("Show to the selected user roles","advanced-gutenberg")},{value:"exclude",label:m("Hide from the selected user roles","advanced-gutenberg")}],onChange:function(e){return t.changeControlKey("user_role","approach",e)}})),("include"===g(a,"user_role","approach")||"exclude"===g(a,"user_role","approach"))&&React.createElement(x,null,React.createElement(k,{multiple:!0,label:m("Select user roles","advanced-gutenberg"),placeholder:m("Search","advanced-gutenberg"),suggestions:(0,S.getOptionSuggestions)(this.getUserRoles()),maxSuggestions:10,value:(0,S.getOptionTitles)(g(a,"user_role","roles")?g(a,"user_role","roles"):[],this.getUserRoles()),onChange:function(e){t.changeControlKey("user_role","roles",(0,S.getOptionSlugs)(e,t.getUserRoles()))},__experimentalExpandOnFocus:!0}),("include"===g(a,"user_role","approach")||"exclude"===g(a,"user_role","approach"))&&!g(a,"user_role","roles").length&&React.createElement(_,{className:"advgb-notice-sidebar",status:"warning",isDismissible:!1,style:{marginBottom:30}},m("Please select at least one user role.","advanced-gutenberg"))))),i(advgb_block_controls_vars.controls.browser)&&React.createElement(x,null,React.createElement(p,{label:m("Browsers","advanced-gutenberg"),help:g(a,"browser","enabled")?m("Choose in which browsers this block can be displayed.","advanced-gutenberg"):"",checked:g(a,"browser","enabled"),onChange:function(){return t.changeControlKey("browser","enabled")}}),g(a,"browser","enabled")&&React.createElement(x,null,React.createElement("div",{className:"advgb-revert-mb"},React.createElement(y,{value:g(a,"browser","approach"),options:[{value:"public",label:m("Show in all browsers","advanced-gutenberg")},{value:"include",label:m("Show in the selected browsers","advanced-gutenberg")},{value:"exclude",label:m("Hide in the selected browsers","advanced-gutenberg")}],onChange:function(e){return t.changeControlKey("browser","approach",e)}})),("include"===g(a,"browser","approach")||"exclude"===g(a,"browser","approach"))&&React.createElement(x,null,React.createElement(k,{multiple:!0,label:m("Select browsers","advanced-gutenberg"),placeholder:m("Search","advanced-gutenberg"),suggestions:(0,S.getOptionSuggestions)(this.getBrowsers()),maxSuggestions:10,value:(0,S.getOptionTitles)(g(a,"browser","browsers")?g(a,"browser","browsers"):[],this.getBrowsers()),onChange:function(e){t.changeControlKey("browser","browsers",(0,S.getOptionSlugs)(e,t.getBrowsers()))},__experimentalExpandOnFocus:!0}),React.createElement(_,{className:"advgb-notice-sidebar",status:"warning",isDismissible:!1},m("Please note the result could not be 100% accurate due some browsers can mimic a different browser.","advanced-gutenberg"))))),i(advgb_block_controls_vars.controls.platform)&&React.createElement(x,null,React.createElement(p,{label:m("Platforms","advanced-gutenberg"),help:g(a,"platform","enabled")?m("Choose in which platforms this block can be displayed.","advanced-gutenberg"):"",checked:g(a,"platform","enabled"),onChange:function(){return t.changeControlKey("platform","enabled")}}),g(a,"platform","enabled")&&React.createElement(x,null,React.createElement("div",{className:"advgb-revert-mb"},React.createElement(y,{value:g(a,"platform","approach"),options:[{value:"public",label:m("Show in all platforms","advanced-gutenberg")},{value:"include",label:m("Show in the selected platforms","advanced-gutenberg")},{value:"exclude",label:m("Hide in the selected platforms","advanced-gutenberg")}],onChange:function(e){return t.changeControlKey("platform","approach",e)}})),("include"===g(a,"platform","approach")||"exclude"===g(a,"platform","approach"))&&React.createElement(x,null,React.createElement(k,{multiple:!0,label:m("Select platforms","advanced-gutenberg"),placeholder:m("Search","advanced-gutenberg"),suggestions:(0,S.getOptionSuggestions)(this.getPlatforms()),maxSuggestions:10,value:(0,S.getOptionTitles)(g(a,"platform","platforms")?g(a,"platform","platforms"):[],this.getPlatforms()),onChange:function(e){t.changeControlKey("platform","platforms",(0,S.getOptionSlugs)(e,t.getPlatforms()))},__experimentalExpandOnFocus:!0}),React.createElement(_,{className:"advgb-notice-sidebar",status:"warning",isDismissible:!1},m("Please note the result could not be 100% accurate due some browsers can mimic a different platform.","advanced-gutenberg"))))),this.isPost()&&React.createElement(x,null,React.createElement("hr",{className:"advgb-hr-separator"}),React.createElement("div",{className:"components-form-token-field__help"},m("Term archives & Pages controls are available in Widgets and FSE screens.","advanced-gutenberg"))),!this.isPost()&&React.createElement(x,null,i(advgb_block_controls_vars.controls.archive)&&React.createElement(x,null,React.createElement(p,{label:m("Term archives","advanced-gutenberg"),help:g(a,"archive","enabled")?m("Choose on which taxonomies and terms archive pages your blocks can be displayed.","advanced-gutenberg"):"",checked:g(a,"archive","enabled"),onChange:function(){return t.changeControlKey("archive","enabled")}}),g(a,"archive","enabled")&&React.createElement(x,null,React.createElement("div",{className:"advgb-revert-mb--disabled",style:{marginBottom:20}},React.createElement(y,{value:g(a,"archive","approach"),options:[{value:"include",label:m("Show for selected terms","advanced-gutenberg")},{value:"exclude",label:m("Hide for selected terms","advanced-gutenberg")}],onChange:function(e){return t.changeControlKey("archive","approach",e)}})),React.createElement(k,{multiple:!0,label:m("Select taxonomies","advanced-gutenberg"),placeholder:m("Search taxonomies","advanced-gutenberg"),suggestions:(0,S.getOptionSuggestions)(this.state.taxModOptions||this.getTaxonomies()),maxSuggestions:10,value:(0,S.getOptionTitles)(this.currentArchiveControl("taxonomies"),this.state.taxModOptions||this.getTaxonomies()),onChange:function(e){t.changeArchiveControl("taxonomies",(0,S.getOptionSlugs)(e,t.state.taxModOptions||t.getTaxonomies()))},__experimentalExpandOnFocus:!0}),0<g(a,"archive","taxonomies").length&&React.createElement(x,null,React.createElement(k,{multiple:!0,label:m("Filter terms","advanced-gutenberg"),placeholder:m("Search terms","advanced-gutenberg"),suggestions:(0,S.getOptionSuggestions)(this.state.termOptions),maxSuggestions:10,value:(0,S.getOptionTitles)(this.currentArchiveControl("terms"),this.state.termOptions),onChange:function(e){t.changeArchiveControl("terms",(0,S.getOptionSlugs)(e,t.state.termOptions)),t.setState({updateTaxLabels:!0})},onInputChange:function(e){t.setState({searchTermWord:e})},__experimentalShowHowTo:!1}),React.createElement("div",{className:"advgb-revert-mb--disabled components-form-token-field__help",style:{marginBottom:20}},m("Use this filter to apply only to some terms.","advanced-gutenberg"))))),i(advgb_block_controls_vars.controls.page)&&React.createElement(x,null,React.createElement(p,{label:m("Pages","advanced-gutenberg"),help:g(a,"page","enabled")?m("Choose in which pages this block can be displayed.","advanced-gutenberg"):"",checked:g(a,"page","enabled"),onChange:function(){return t.changeControlKey("page","enabled")}}),g(a,"page","enabled")&&React.createElement(x,null,React.createElement("div",{className:"advgb-revert-mb"},React.createElement(y,{value:g(a,"page","approach"),options:[{value:"include",label:m("Show on the selected pages","advanced-gutenberg")},{value:"exclude",label:m("Hide on the selected pages","advanced-gutenberg")}],onChange:function(e){return t.changeControlKey("page","approach",e)}})),("include"===g(a,"page","approach")||"exclude"===g(a,"page","approach"))&&React.createElement(k,{multiple:!0,label:m("Select pages","advanced-gutenberg"),placeholder:m("Search","advanced-gutenberg"),suggestions:(0,S.getOptionSuggestions)(this.getPages()),maxSuggestions:10,value:(0,S.getOptionTitles)(g(a,"page","pages")?g(a,"page","pages"):[],this.getPages()),onChange:function(e){t.changeControlKey("page","pages",(0,S.getOptionSlugs)(e,t.getPages()))},__experimentalExpandOnFocus:!0})))))),React.createElement(r,E({key:"block-edit-advgb-dates"},this.props))]}}]),n;function n(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(B(e))));return e.state={taxModOptions:[],termOptions:[],searchTermWord:"",initArchive:!0,updateTaxLabels:!1},e.isPost=e.isPost.bind(e),e}},"withEditControls")),t("editor.BlockListBlock","advgb/loadBackendBlockControls",o(function(a){return function(e){if(!s.includes(e.name)&&h(e.name,"advgb/blockControls",!0)&&d()){var t=e.attributes.advgbBlockControls,n=!1===e.isSelected&&u(t)?"advgb-bc-editor-preview":"";return React.createElement(a,E({},e,{className:(0,T.default)(e.className,n),advgbBlockControls:""+t}))}return React.createElement(a,e)}},"withAttributes")))}(wp.i18n,wp.hooks,wp.blocks,wp.blockEditor,wp.components,wp.compose,wp.element)},0:function(e,t,n){e.exports=n("./src/assets/blocks/block-controls/block-controls.jsx")}});
//# sourceMappingURL=block-controls.min.js.map