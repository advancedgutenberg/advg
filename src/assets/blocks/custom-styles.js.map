{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/blocks/customstyles/custom-styles.jsx"],"names":["wpI18n","wpHooks","wpBlocks","wpBlockEditor","wpComponents","wpCompose","wp","blockEditor","editor","addFilter","__","hasBlockSupport","InspectorControls","SelectControl","createHigherOrderComponent","SUPPORTED_BLOCKS","settings","includes","name","attributes","customStyle","type","identifyColor","advgbBlocks","customStyles","unshift","id","label","value","BlockEdit","props","isSelected","background","verticalAlign","borderRadius","border","width","height","display","marginLeft","map","cstyle","index","title","filter","style","setAttributes","backgroundColor","undefined","textColor","fontSize","extraProps","blockType","className","trim","withStyleClasses","BlockListBlock","hooks","i18n","blocks","components","compose"],"mappings":"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","file":"custom-styles.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","(function ( wpI18n, wpHooks, wpBlocks, wpBlockEditor, wpComponents, wpCompose ) {\n    wpBlockEditor = wp.blockEditor || wp.editor;\n    const { addFilter } = wpHooks;\n    const { __ } = wpI18n;\n    const { hasBlockSupport } = wpBlocks;\n    const { InspectorControls } = wpBlockEditor;\n    const { SelectControl } = wpComponents;\n    const { createHigherOrderComponent } = wpCompose;\n\n    const SUPPORTED_BLOCKS = [\n        'core/paragraph',\n        'core/heading',\n        'core/list',\n        'core/code',\n        'core/preformatted',\n        'core/table',\n        'core/columns',\n        'core/column',\n        'core/group',\n        'core/image',\n    ];\n\n\n    // Register custom styles to blocks attributes\n    addFilter( 'blocks.registerBlockType', 'advgb/registerCustomStyleClass', function ( settings ) {\n        if (SUPPORTED_BLOCKS.includes( settings.name )) {\n            settings.attributes = Object.assign( settings.attributes, {\n                customStyle: {\n                    type: 'string'\n                },\n                identifyColor: {\n                    type: 'string'\n                }\n            } );\n        }\n\n        return settings;\n    } );\n\n    // Add option to return to default style\n    if (typeof advgbBlocks.customStyles !== 'undefined' && advgbBlocks.customStyles) {\n        advgbBlocks.customStyles.unshift( {\n            id: 0,\n            label: __( 'Select a block style', 'advanced-gutenberg' ),\n            value: '',\n            identifyColor: ''\n        } );\n    }\n\n    // Add option to select custom styles for supported blocks\n    addFilter( 'editor.BlockEdit', 'advgb/customStyles', function ( BlockEdit ) {\n        return ( props ) => {\n            return ( [\n                <BlockEdit key=\"block-edit-custom-class-name\" {...props} />,\n                props.isSelected && SUPPORTED_BLOCKS.includes( props.name ) &&\n                <InspectorControls key=\"advgb-custom-controls\">\n                    <div className=\"advgb-custom-styles-wrapper\">\n                        <SelectControl\n                            label={ [\n                                __( 'Block styles', 'advanced-gutenberg' ),\n                                <span className={'components-panel__color-area'}\n                                      key=\"customstyle-identify\"\n                                      style={ {\n                                          background: props.attributes.identifyColor,\n                                          verticalAlign: 'text-bottom',\n                                          borderRadius: '50%',\n                                          border: 'none',\n                                          width: '16px',\n                                          height: '16px',\n                                          display: 'inline-block',\n                                          marginLeft: '10px',\n                                      } } />\n                            ] }\n                            help={__( 'This option let you add custom style for the current block', 'advanced-gutenberg' )}\n                            value={props.attributes.customStyle}\n                            options={advgbBlocks.customStyles.map( ( cstyle, index ) => {\n                                if (cstyle.title) advgbBlocks.customStyles[ index ].label = cstyle.title;\n                                if (cstyle.name) advgbBlocks.customStyles[ index ].value = cstyle.name;\n\n                                return cstyle;\n                            } )}\n                            onChange={( cstyle ) => {\n                                const { identifyColor } = advgbBlocks.customStyles.filter( ( style ) => style.value === cstyle )[0];\n                                props.setAttributes( {\n                                    customStyle: cstyle,\n                                    identifyColor: identifyColor,\n                                    backgroundColor: undefined,\n                                    textColor: undefined,\n                                    fontSize: undefined,\n                                } );\n                            }}\n                        />\n                    </div>\n                </InspectorControls>\n            ] )\n        }\n    } );\n\n    // Apply custom styles on front-end\n    addFilter( 'blocks.getSaveContent.extraProps', 'advgb/loadFrontendCustomStyles', function ( extraProps, blockType, attributes ) {\n        if (hasBlockSupport( blockType, 'customStyle', true ) && attributes.customStyle) {\n            if (typeof extraProps.className === 'undefined') {\n                extraProps.className = attributes.customStyle;\n            } else {\n                extraProps.className += ' ' + attributes.customStyle;\n                extraProps.className = extraProps.className.trim();\n            }\n        }\n\n        return extraProps;\n    } );\n\n\n    const withStyleClasses = createHigherOrderComponent( ( BlockListBlock ) => {\n        return ( props ) => {\n            if ( ! SUPPORTED_BLOCKS.includes( props.name ) || !hasBlockSupport( props.name, 'customStyle', true ) ) {\n                return <BlockListBlock { ...props } />\n            }\n\n            const {\n                customStyle,\n            } = props.attributes;\n\n            return <BlockListBlock { ...props } className={ `${ customStyle }` } />;\n        };\n    }, 'withStyleClasses' );\n\n    // Apply custom styles on back-end\n    wp.hooks.addFilter( 'editor.BlockListBlock', 'advgb/loadBackendCustomStyles', withStyleClasses );\n\n})( wp.i18n, wp.hooks, wp.blocks, wp.blockEditor, wp.components, wp.compose );\n"],"sourceRoot":""}