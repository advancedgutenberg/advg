{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/assets/blocks/editor-sidebar/widgets-sidebar.jsx"],"names":["wpI18n","wpPlugins","wpElement","wpData","wpComponents","wpEditPost","__","registerPlugin","Component","Fragment","select","withSelect","withDispatch","PanelBody","ButtonGroup","Button","PluginSidebar","PluginSidebarMoreMenuItem","compose","wp","sidebarName","sidebarTitle","sidebarIcon","VISUAL_GUIDE_SETTINGS","label","value","EDITOR_WIDTH_SETTINGS","updateBodyClass","postMetaData","getEditedPostAttribute","advgb_blocks_editor_width","advgb_blocks_columns_visual_guide","bodyClass","window","document","body","classList","remove","add","advg_settings","editor_width_global","enable_columns_visual_guide_global","AdvSidebar","arguments","metaData","props","metaValues","updateMetaField","meta","columnsVisualGuide","editorWidth","map","setting","index","onUpdateMeta","AdvSidebarRender","dispatch","data","editPost","render","i18n","plugins","element","components"],"mappings":"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","file":"widgets-sidebar.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","(function ( wpI18n, wpPlugins, wpElement, wpData, wpComponents, wpEditPost ) {\n    const { __ } = wpI18n;\n    const { registerPlugin } = wpPlugins;\n    const { Component, Fragment } = wpElement;\n    const { select, withSelect, withDispatch } = wpData;\n    const { PanelBody, ButtonGroup, Button } = wpComponents;\n    const { PluginSidebar, PluginSidebarMoreMenuItem } = wpEditPost;\n    const { compose } = wp.compose;\n\n    const sidebarName  = \"advgb-editor-sidebar\";\n    const sidebarTitle = __( 'PublishPress Blocks Settings', 'advanced-gutenberg' );\n    const sidebarIcon  = \"layout\";\n    const VISUAL_GUIDE_SETTINGS = [\n        { label: __( 'Inherit from global settings', 'advanced-gutenberg' ), value: '' },\n        { label: __( 'Enable', 'advanced-gutenberg' ), value: 'enable' },\n        { label: __( 'Disable', 'advanced-gutenberg' ), value: 'disable' },\n    ];\n    const EDITOR_WIDTH_SETTINGS = [\n        { label: __( 'Inherit from global settings', 'advanced-gutenberg' ), value: '' },\n        { label: __( 'Original', 'advanced-gutenberg' ), value: 'default' },\n        { label: __( 'Large', 'advanced-gutenberg' ), value: 'large' },\n        { label: __( 'Full width', 'advanced-gutenberg' ), value: 'full' },\n    ];\n\n    const updateBodyClass = function () {\n        const postMetaData = select( 'core/editor' ).getEditedPostAttribute( 'meta' );\n        if (!postMetaData) return null;\n        const { advgb_blocks_editor_width, advgb_blocks_columns_visual_guide } = postMetaData;\n        const bodyClass = window.document.body.classList;\n\n        bodyClass.remove(\n            'advgb-editor-width-default',\n            'advgb-editor-width-large',\n            'advgb-editor-width-full',\n            'advgb-editor-col-guide-enable',\n            'advgb-editor-col-guide-disable',\n        );\n\n        // Editor width\n        if (!!advgb_blocks_editor_width) {\n            bodyClass.add( 'advgb-editor-width-' + advgb_blocks_editor_width );\n        } else {\n            // Global\n            bodyClass.add( 'advgb-editor-width-' + advg_settings.editor_width_global );\n        }\n\n        // Columns visual guide\n        if (!!advgb_blocks_columns_visual_guide) {\n            bodyClass.add( 'advgb-editor-col-guide-' + advgb_blocks_columns_visual_guide );\n        } else {\n            // Global\n            bodyClass.add( 'advgb-editor-col-guide-' + advg_settings.enable_columns_visual_guide_global );\n        }\n    };\n\n    // Line below stopped working - https://github.com/WordPress/gutenberg/issues/28032#issuecomment-759723289\n    // window.document.addEventListener(\"DOMContentLoaded\", updateBodyClass);\n\n    class AdvSidebar extends Component {\n        constructor() {\n            super( ...arguments );\n        }\n\n        onUpdateMeta( metaData ) {\n            const { metaValues, updateMetaField } = this.props;\n            const meta = { ...metaValues, ...metaData };\n\n            updateMetaField( meta );\n            updateBodyClass();\n        }\n\n        render() {\n            const { columnsVisualGuide, editorWidth } = this.props;\n\n            return (\n                <Fragment>\n                    <div className=\"advgb-editor-sidebar-note\">\n                        { __( 'These settings will override the PublishPress Blocks global settings.', 'advanced-gutenberg' ) }\n                    </div>\n                    <PanelBody title={ __( 'Editor width', 'advanced-gutenberg' ) }>\n                        <div className=\"advgb-editor-sidebar-note\">\n                            { __( 'Change your editor width', 'advanced-gutenberg' ) }\n                        </div>\n                        <ButtonGroup className=\"advgb-button-group\">\n                            {EDITOR_WIDTH_SETTINGS.map((setting, index) => (\n                                <Button className=\"advgb-button\"\n                                        key={ index }\n                                        isSecondary={ setting.value !== editorWidth }\n                                        isPrimary={ setting.value === editorWidth }\n                                        onClick={ () => this.onUpdateMeta( { advgb_blocks_editor_width: setting.value } ) }\n                                >\n                                    { setting.label }\n                                </Button>\n                            ) ) }\n                        </ButtonGroup>\n                    </PanelBody>\n                    <PanelBody title={ __( 'Columns Visual Guide', 'advanced-gutenberg' ) } initialOpen={ false }>\n                        <div className=\"advgb-editor-sidebar-note\">\n                            { __( 'Border to materialize PublishPress Blocks Column block', 'advanced-gutenberg' ) }\n                        </div>\n                        <ButtonGroup className=\"advgb-button-group\">\n                            {VISUAL_GUIDE_SETTINGS.map((setting, index) => (\n                                <Button className=\"advgb-button\"\n                                        key={ index }\n                                        isSecondary={ setting.value !== columnsVisualGuide }\n                                        isPrimary={ setting.value === columnsVisualGuide }\n                                        onClick={ () => this.onUpdateMeta( { advgb_blocks_columns_visual_guide: setting.value } ) }\n                                >\n                                    { setting.label }\n                                </Button>\n                            ) ) }\n                        </ButtonGroup>\n                    </PanelBody>\n                </Fragment>\n            )\n        }\n    }\n\n    const AdvSidebarRender = compose(\n        withDispatch( ( dispatch ) => {\n            return {\n                updateMetaField: ( data ) => {\n                    dispatch( 'core/editor' ).editPost(\n                        { meta: data }\n                    );\n                },\n            }\n        } ),\n        withSelect( ( select ) => {\n            const metaValues = select( 'core/editor' ).getEditedPostAttribute( 'meta' );\n\n            return {\n                metaValues: metaValues,\n                columnsVisualGuide: metaValues.advgb_blocks_columns_visual_guide,\n                editorWidth: metaValues.advgb_blocks_editor_width,\n            }\n        } )\n    )( AdvSidebar );\n\n    registerPlugin( 'advgb-editor-sidebar', {\n        render: function () {\n            return (\n                <Fragment>\n                    <PluginSidebarMoreMenuItem\n                        target={ sidebarName }\n                        icon={ sidebarIcon }\n                    >\n                        { sidebarTitle }\n                    </PluginSidebarMoreMenuItem>\n                    <PluginSidebar\n                        name={ sidebarName }\n                        title={ sidebarTitle }\n                        icon={ sidebarIcon }\n                    >\n                        <div className=\"advgb-editor-sidebar-content\">\n                            <AdvSidebarRender />\n                        </div>\n                    </PluginSidebar>\n                </Fragment>\n            )\n        }\n    } );\n})( wp.i18n, wp.plugins, wp.element, wp.data, wp.components, wp.editPost );\n"],"sourceRoot":""}